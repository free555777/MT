<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MT – Logo Picker</title>
  <style>
    :root{--light-green:#E8F5E9;--white:#FFFFFF;--green:#4CAF50;}
    body{background:var(--light-green);display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif}
    #logoBox{background:var(--white);padding:2.5rem 2rem;border-radius:16px;text-align:center;box-shadow:0 2px 12px rgba(0,0,0,.15);max-width:320px;width:90%}
    #logoBox h2{margin-bottom:.8rem;color:#222}
    #preview{width:90px;height:90px;border-radius:50%;object-fit:cover;border:3px dashed var(--green);margin-bottom:1rem}
    #fileInput{display:none}
    .btn{background:var(--green);color:var(--white);border:none;padding:.6rem 1.2rem;border-radius:8px;font-size:.9rem;cursor:pointer;margin:.3rem}
    .emojiGrid{display:grid;grid-template-columns:repeat(6,1fr);gap:.4rem;margin-top:.8rem}
    .emojiGrid span{font-size:1.8rem;padding:.2rem;border-radius:6px;cursor:pointer;transition:.2s}
    .emojiGrid span:hover{background:var(--light-green)}
  </style>
</head>
<body>
  <div id="logoBox">
    <h2>Choose MT Logo</h2>
    <img id="preview" src="assets/logo.png" alt="logo" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjRThGNUU5Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtc2l6ZT0iNDAiIGZpbGw9IiM0Q0FGNTAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5NVDwvdGV4dD48L3N2Zz4='"/>
    <br/>
    <button class="btn" onclick="document.getElementById('fileInput').click()">Upload PNG/SVG</button>
    <input id="fileInput" type="file" accept="image/*"/>
    <p style="margin:.8rem 0">या इमोजी चुनें</p>
    <div class="emojiGrid">
      💸 🧾 🏛️ 🌱 🪙 📊 🏦 💰 📈 🏷️ 🔖 📑
    </div>
    <br/>
    <button class="btn" onclick="applyLogo()">Save & Go to App</button>
  </div>

  <script>
    /* ----------  helpers  ---------- */
    const preview   = document.getElementById('preview');
    const fileInput = document.getElementById('fileInput');
    let selected = localStorage.getItem('mt_logo') || 'assets/logo.png'; // default

    /* init */
    preview.src = selected;

    fileInput.onchange = e=>{
      const file = e.target.files[0];
      if(!file) return;
      const reader = new FileReader();
      reader.onload = ev=>{
        selected = ev.target.result;
        preview.src = selected;
      };
      reader.readAsDataURL(file);
    };

    document.querySelectorAll('.emojiGrid span').forEach(span=>{
      span.onclick = ()=>{
        selected = span.textContent;
        preview.src = `data:image/svg+xml;base64,${btoa(`<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><rect width="100%" height="100%" fill="none"/><text x="50%" y="50%" font-size="60" dominant-baseline="middle" text-anchor="middle">${selected}</text></svg>`)}`;
      };
    });

    function applyLogo(){
      localStorage.setItem('mt_logo', selected);
      // redirect back to main app
      window.location.href = 'index.html';
    }
  </script>
</body>
</html>
<img id="appLogo" width="32" height="32" style="border-radius:50%; margin-right:.5rem">
<script>
  document.getElementById('appLogo').src = localStorage.getItem('mt_logo') || 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iI0U4RjVFOSIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LXNpemU9IjIwIiBmaWxsPSIjNENBRjUwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+TVQ8L3RleHQ+PC9zdmc+';
</script>
